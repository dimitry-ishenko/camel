///////////////////////////////////////////////////////////////////////////////////////////////////
// Copyright (c) 2013-2014 Dimitry Ishenko
// Distributed under the GNU GPL v2. For full terms please visit:
// http://www.gnu.org/licenses/gpl.html
//
// Contact: dimitry (dot) ishenko (at) (gee) mail (dot) com

///////////////////////////////////////////////////////////////////////////////////////////////////
#ifndef ADDRESS_H
#define ADDRESS_H

///////////////////////////////////////////////////////////////////////////////////////////////////
#include <string>
#include <netinet/in.h>

///////////////////////////////////////////////////////////////////////////////////////////////////
namespace net
{

///////////////////////////////////////////////////////////////////////////////////////////////////
class socket;

///////////////////////////////////////////////////////////////////////////////////////////////////
namespace ipv4
{

///////////////////////////////////////////////////////////////////////////////////////////////////
class address
{
public:
    static const address any;
    static const address broadcast;

public:
    address() noexcept = default;
    address(const address&) noexcept = default;
    address(address&&) noexcept = default;

    address& operator=(const address&) noexcept = default;
    address& operator=(address&&) noexcept = default;

    address(in_addr x) noexcept: _M_addr(x) { }
    address(in_addr_t x) noexcept: _M_addr({x}) { }

    address(const std::string&);
    address(const char* x): address(std::string(x)) { }

    std::string to_string() const;

private:
    in_addr _M_addr; // in network byte order (big endian)
    friend class net::socket;
};

///////////////////////////////////////////////////////////////////////////////////////////////////
}

///////////////////////////////////////////////////////////////////////////////////////////////////
}

///////////////////////////////////////////////////////////////////////////////////////////////////
#endif // ADDRESS_H
