///////////////////////////////////////////////////////////////////////////////////////////////////
#ifndef UTILITY_H
#define UTILITY_H

///////////////////////////////////////////////////////////////////////////////////////////////////
#include <string>
#include <memory>
#include <cstdlib>

///////////////////////////////////////////////////////////////////////////////////////////////////
namespace app
{

///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////
struct charpp_deleter
{
    void operator()(char* args[])
    {
        if(args)
        {
            for(char** ri= args; *ri; ++ri) free(*ri);
            free(args);
        }
    }
};

typedef std::unique_ptr<char*[], charpp_deleter> charpp_ptr;

///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////
std::unique_ptr<char[]> clone(const std::string& value);

///////////////////////////////////////////////////////////////////////////////////////////////////
}

///////////////////////////////////////////////////////////////////////////////////////////////////
#endif // UTILITY_H
