///////////////////////////////////////////////////////////////////////////////////////////////////
#include "log.h"

///////////////////////////////////////////////////////////////////////////////////////////////////
namespace app
{

///////////////////////////////////////////////////////////////////////////////////////////////////
namespace log
{

///////////////////////////////////////////////////////////////////////////////////////////////////
std::streamsize streambuf::xsputn(const char* message, std::streamsize n)
{
    ::syslog(current, "%s", message);

    current= default_level;
    return n;
}

///////////////////////////////////////////////////////////////////////////////////////////////////
stream& stream::operator<<(level x)
{
    buffer.current= x;
    return (*this);
}

///////////////////////////////////////////////////////////////////////////////////////////////////
}

///////////////////////////////////////////////////////////////////////////////////////////////////
log::stream logger;

///////////////////////////////////////////////////////////////////////////////////////////////////
}
