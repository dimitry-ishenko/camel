///////////////////////////////////////////////////////////////////////////////////////////////////
// Copyright (c) 2014 Dimitry Ishenko
// Distributed under the GNU GPL v2. For full terms please visit:
// http://www.gnu.org/licenses/gpl.html
//
// Contact: dimitry (dot) ishenko (at) (gee) mail (dot) com

///////////////////////////////////////////////////////////////////////////////////////////////////
#include "except.h"

///////////////////////////////////////////////////////////////////////////////////////////////////
constexpr char separator= '\n';

backtrace context::_M_current;

///////////////////////////////////////////////////////////////////////////////////////////////////
backtrace::operator std::string() const
{
    std::string string;
    if(c.size())
    {
        auto ri= c.crbegin();
        string+= *ri;

        while(++ri != c.crend()) string+= separator+ *ri;
    }
    return string;
}
